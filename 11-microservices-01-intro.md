# Домашнее задание к занятию «Введение в микросервисы»

## Задача

Руководство крупного интернет-магазина, у которого постоянно растёт пользовательская база и количество заказов, рассматривает возможность переделки своей внутренней   ИТ-системы на основе микросервисов.

Вас пригласили в качестве консультанта для оценки целесообразности перехода на микросервисную архитектуру.

Опишите, какие выгоды может получить компания от перехода на микросервисную архитектуру и какие проблемы нужно решить в первую очередь.

## Выгода которую сможет получить компания от перехода на микросервисную архитектуру

Микросервисная архитектура относится к распределенным системам.
Распределенные системы помогают повысить надежность, производительность и упрощают масштабирование системы.
В случае большой нагрузки на систему можно добавить дополнительные узлы.
В микросервисной архитектуре приложение разбивается на ряд независимо развертываемых сервисов. Благодаря такому подходу каждый отдельный сервис можно развертывать и масштабировать независимо от других.
В отличие от монолитного приложения, с микросервисной архитектурой команды могут быстрее внедрять новые возможности и вносить изменения.
Легкое обслуживание и тестирование.
В микросервисной архитектуре команды могут экспериментировать с новыми возможностями и возвращаться к предыдущей версии. Это облегчает обновление кода и ускоряет вывод новых возможностей на рынок. Кроме того, так становится проще искать и исправлять ошибки и баги в отдельных сервисах.
Команды, которые создают и обслуживают микросервисы, обычно используют такие методы автоматизации инфраструктуры, как непрерывная интеграция (CI), непрерывная поставка (CD) и непрерывное развертывание (тоже CD). Таким образом, каждая команда может создавать и развертывать свой сервис независимо от других команд, не мешая их работе. Кроме того, команда может развернуть новую версию сервиса параллельно с предыдущей версией.
----------------------------------------------

Микросервисная архитектура имеет свои преимущества:

Масштабируемость. Не будет «потолка», система может органично расти вместе с вашим бизнесом и справляться с любыми требуемыми нагрузками. Более того, каждый сервис можно масштабировать отдельно и только тогда, когда он приближается к пику своей нагрузки и вскоре может стать узким местом.

Независимое развертывание. Обновлять приложения на основе микросервисов гораздо проще, поскольку каждый сервис можно развернуть независимо от других. Например, при обновлении одной из библиотек, работающих в одном процессе перезапускаться будет не все приложение (как при монолите), а только изменившийся сервис.
Гибкость. Такая архитектура адаптивна к изменениям: новый функционал может быть внедрен значительно быстрее, т.к. работы коснутся только одного модуля.
Повышение отказоустойчивости. Если один микросервис по каким-то причинам даст сбой, то другие продолжат свою работу.
Возможность поэтапного внедрения. Вам не нужно разрабатывать сразу все сервисы. Достаточно определиться с тем, какой сервис именно сейчас наиболее актуален для бизнеса. Поэтапное внедрение позволит управлять как продуктом, так и бюджетом на разработку.
Возможность использовать подходящие технологии для каждого сервиса. Можно разрабатывать и использовать технологии и инструменты, наиболее подходящие для каждого сервиса, например, для административной части сайта можно использовать PHP, для отчетов Node.js и так далее.
==============================================

## Проблемы которые нужно будет решить в первую очередь:

Многие организации начинают с монолитной архитектуры. Затем нужно будет разделить базу кода на несколько сервисов, реализовать надлежащие схемы для корректной обработки сбоев и восстановления после проблем с сетью, обеспечить согласованность данных, наладить мониторинг нагрузки сервисов и т. д. Однако у этого вопроса есть не только техническая сторона. Вам также потребуется реорганизовать команды и, скорее всего, принять культуру DevOps.

Затем приходит время, когда нужно решить самую трудную задачу — разделить монолит на микросервисы. Рефакторизация монолитной схемы базы данных может оказаться сложной операцией. Важно четко определить, какие наборы данных требуются каждому сервису и какие из них нужны в нескольких местах сразу. Непрерывная поставка помогает снизить риски, связанные с ошибками в релизе, и дает команде возможность сосредоточиться на создании и запуске приложения, а не на его развертывании.

-----------------------------------------------
Минусы микросервисов
Некоторые из недостатков микросервисной архитектуры включают в себя:

Скорость разработки первой версии продукта. Разработка приложения на основе микросервисов может быть более сложной, чем в случае с монолитной архитектурой, поскольку разработчикам необходимо учитывать большее количество факторов, таких как связи между сервисами и специальные архитектурные решения для обеспечения отказоустойчивости.
Возможное расширение стека технологий на проекте. Если микросервисы написаны с использованием разных технологий, вам потребуются и соответствующие разработчики для управления и связывания множества независимых сервисов. Это может привести к повышенным затратам на обслуживание и управление инфраструктурой.
Сообщения между сервисами. Есть риск задержки ответов между микросервисами. Но чаще всего микросервисы располагаются в одной локальной сети, поэтому риск сводится к минимуму
Усложнение тестирования. Тестирование приложения на основе микросервисов также может быть более сложным, поскольку тесты должны учитывать взаимодействие между различными сервисами. Это может требовать большего времени и усилий для разработки и выполнения тестов.
===============================================

Проблемы:

На первом этапе потребуется проработать вопросы целевой архитектуры продукта, выделение микросервисов. Выбрать стек инфраструктуры, создать инфраструктуру. Сформировать команды и определить стек каждого микросервиса.
Микросервисы не являются решением всех проблем. Решать проблемы вычислительных мощностей и инфраструктуры так же придется.
Необходимо найти баланс и не дробить систему слишком сильно. Можно чрезмерно усложнить систему большим количеством мелких сервисов.
Изменение оргструктуры организации, разделение на команды и изменение состава команд.
Так же необходимо повышать квалификацию инженеров и разработчиков, их функциональных обязанностей (документирование, версионирование). Вероятно придется расширить штат разработчиков в связи с распределением систем и разделением команд для разных сервисов.
Возможно введение дополнительной службы (возможно внтурикомандного распределение обязанностей) - DevOps
